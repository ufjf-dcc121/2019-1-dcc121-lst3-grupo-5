<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Passeio do Cavalo</title>
    <style>
    .quadradoTab
    {
        border: 1px solid black;
        height: 48px;
        width: 48px;
        text-align: center;
    }
    .quadradoInterno
    {
        height: 40px;
        width: 40px;
    }
    .quadradoPar
    {
        background-color: burlywood;
    }
    .quadradoImpar
    {
        background-color: antiquewhite;
    }
    </style>
</head>
<body>
    <table>
        <thead id="indTabuleiro">
        </thead>
        <tbody id="corpTabuleiro">
        </tbody>
    </table>
    <script>
        var indicesTab = document.getElementById("indTabuleiro");
        var corpoTab = document.getElementById("corpTabuleiro");
        var cavalo = document.createElement("img");
        var inicio = 0;

        cavalo.src = "cavalo.png";
        cavalo.classList = "quadradoInterno";

        // ----------------------------------------------------------------
        // criando corpo do tabuleiro
        // ----------------------------------------------------------------

        var novaLinhaIndice = document.createElement("tr");
        var novoIndiceTopo = document.createElement("th");
        novaLinhaIndice.appendChild(novoIndiceTopo);
        for (var indice = 0; indice < 8; indice++) {
            
            var novaLinha = document.createElement("tr");
            var novoIndicelado = document.createElement("th");
            novoIndicelado.innerText = indice + 1;
            novaLinha.appendChild(novoIndicelado);

            var novoIndiceTopo = document.createElement("th");
            novoIndiceTopo.innerText = String.fromCharCode(65+indice);
            novaLinhaIndice.appendChild(novoIndiceTopo);

            for (var indice2 = 0; indice2 < 8; indice2++) {
                var novoDado = document.createElement("td");
                novoDado.classList = "quadradoTab";
                
                if((indice+indice2)%2==0)
                {
                    novoDado.classList = novoDado.classList + " quadradoPar";
                }
                else
                {
                    novoDado.classList = novoDado.classList + " quadradoImpar";
                }
                
                novoDado.addEventListener("click",inicioJogo);
                novaLinha.appendChild(novoDado);
            }
            corpoTab.appendChild(novaLinha);
        }
        indicesTab.appendChild(novaLinhaIndice);
        // ----------------------------------------------------------------
        // funções
        // ----------------------------------------------------------------
        function inicioJogo(event)
        {
            var quadradoAtual = event.srcElement;

            var indexColuna = quadradoAtual.cellIndex;
            var indexLinha = quadradoAtual.parentElement.sectionRowIndex;

            var corpoTabela = quadradoAtual.parentElement.parentElement;

            if(inicio==0)
            {
                quadradoAtual.appendChild(cavalo);
                inicio++;
            }
            else
            {
                var quadradoAnterior = cavalo.parentElement;
                if(quadradoAtual.style.backgroundColor == "green")
                {
                    var fechado = document.createElement("img");
                    fechado.src = "fechado.png";
                    fechado.classList = "quadradoInterno";
                    quadradoAnterior.appendChild(fechado);
                    quadradoAtual.appendChild(cavalo);
                }
                
            }
        }
    </script>
</body>
</html>